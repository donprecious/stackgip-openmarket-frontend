<div class="uk-section uk-section-default" style="padding: 0">
  <div class="uk-container">
    <form [formGroup]="form" (ngSubmit)="onSearch()">
      <div class="uk-grid-small uk-child-width-expand@s" uk-grid>
        <div class="uk-width-3-4@s">
          <input class="uk-input" type="text" placeholder="enter search product ..."
            formControlName="keyword">
        </div>
        <div class="uk-width-1-4@s" *ngIf="categories$ | async as categories">
            <div uk-form-custom="target: > * > span:first-child">
              <select formControlName="category">
                  <option value="">Select category...</option>
                  <option value="{{ category.id }}" *ngFor="let category of categories.data">
                    {{ category.name }}
                  </option>
              </select>
              <button class="uk-button uk-button-default" type="button" tabindex="-1">
                  <span></span>
                  <span uk-icon="icon: chevron-down"></span>
              </button>
          </div>
        </div>
      </div>
      <div class="uk-grid-small uk-child-width-expand@s" uk-grid>
        <div class="uk-width-3-4@s">
          <ngx-slider [(value)]="minValue" [(highValue)]="maxValue" [options]="options"></ngx-slider>
        </div>
        <div class="uk-width-1-4@s">
          <button type="submit" 
            class="uk-button uk-button-primary uk-margin-small-top uk-margin-remove-top@m" >
            filter
          </button>
        </div>
      </div>
      <hr/>
    </form>
    <h2>Products</h2>
    <div
      class="uk-grid uk-grid-small uk-grid-match uk-child-width-1-2 uk-child-width-1-4@s uk-child-width-1-5@m uk-margin"
    >
      <app-single-product
        *ngFor="let product of products | paginate: { itemsPerPage: maximumItem, currentPage: pageNumber, totalItems:totalItemCount}"
        [product]="product"
        class="uk-margin-bottom"
      >
      </app-single-product>
    </div>
  </div>
</div>
<div class="uk-flex uk-flex-center">
  <pagination-controls (pageChange)="fetchNextProducts($event)"></pagination-controls>
</div>